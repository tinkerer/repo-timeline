<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Test Redirect Logic</title>
</head>
<body>
  <h1>Testing Redirect Logic</h1>
  <pre id="output"></pre>

  <script>
    // Simulate different URLs
    const testCases = [
      '/repo-timeline/rjwalters/nistmemsql',
      '/repo-timeline/facebook/react',
      '/repo-timeline/owner/repo/extra/segments'
    ];

    let output = '';

    testCases.forEach(testPath => {
      // Simulate the redirect logic
      const segments = testPath.split('/').filter(s => s);
      const base = segments[0];
      const pathSegments = segments.slice(1);
      const encodedPath = pathSegments.join('/');

      const redirectUrl = 'https://rjwalters.github.io' +
        '/' + base +
        '/?p=/' + encodedPath;

      output += `Input:  ${testPath}\n`;
      output += `Output: ${redirectUrl}\n\n`;
    });

    document.getElementById('output').textContent = output;
  </script>
</body>
</html>
